var tkMsg={modal:function(a){console.log("tkMsg.init");if(typeof a.position!="undefined"){tkMsg._position(a);return}mid=a.mid;pid=a.pid||"body";css=a.css||{border:0,background:"transparent",width:"100%"};overlay=a.overlay||{backgroundColor:"#000",opacity:0.5};timeout=a.timeout||null;console.log("pid:"+pid+" mid:"+mid+" css:"+css+" overlay:"+overlay+" timeout:"+timeout);jQuery(pid).block({message:jQuery(mid),css:css,overlayCSS:overlay});if(timeout){setTimeout(function(){jQuery(pid).unblock()},timeout)}},_position:function(a){console.log("tkMsg.modalPosition");mid=a.mid;pos=a.position||{top:"",left:"",right:""};bg=a.background||"#FFF";to=a.timeout||null;console.log("pos = {"+pos.top+" | "+pos.left+" | "+pos.right+" } "+mid+" | "+bg+" | "+to);jQuery.blockUI({message:jQuery(mid),css:{top:pos.top,left:pos.left,right:pos.right,border:0,background:"transparent"},overlayCSS:{backgroundColor:bg,opacity:0.3,cursor:"wait"}});if(to){setTimeout(function(){jQuery.unblockUI()},to)}}};