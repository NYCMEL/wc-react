#!/Melify/bin/mac/tclkit

if {$argc != 1} {
    puts "USAGE: rmake <component-name>"
}

set name [lindex $argv 0]

source /Melify/bin/mac/.react/$name.t

#parray ta

foreach i {"css" "stories.tsx" "tsx"} {
    set f [open /Melify/bin/mac/.react/t.$i r]
    set r [read $f]
    close $f

    regsub -all "CNAME"  $r [string trim "$ta(name)"]   r
    regsub -all "PROPS"  $r [string trim "$ta(props)"]  r
    regsub -all "SAMPLE" $r [string trim "$ta(sample)"] r
    regsub -all "STORY"  $r [string trim "$ta(story)"]  r
    regsub -all "CSS"    $r [string trim "$ta(css)"]    r

    file mkdir /Melify/mtk/dev/tk/lib/components/misc/react-t/src/components/$ta(name)
    set f [open /Melify/mtk/dev/tk/lib/components/misc/react-t/src/components/$ta(name)/MTK$ta(name).$i w]
    puts $f $r
    close $f
}
