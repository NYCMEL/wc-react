#!c:/Melify/mtk/bin/WebTest.exe
## STARTHEAD ##################################################################
#
#   COPYRIGHT (C) 1993,2009 Mel Heravi                                       
#   EMAIL:        Support@Melify.com                                        
#   URL:          http://www.Melify.com                                    
#   PHONE:        (888) 2-Melify
#   -------------------------------------------------------------------------
#   THIS PROGRAM IS SHAREWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY IT. 
#   THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL,          
#   BUT WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF           
#   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.                     
#   -------------------------------------------------------------------------
#   SOME JAVASCRIPTS INCLUDED IN THIS PACKAGE MAY REQUIRE A SEPARATE         
#   LICENSE, PLEASE COMPLY WITH THEIR LICENSING AGREEMENTS                   
#
## REVISIONS ##################################################################
#
# $LastChangedDate: 2009-02-16 16:47:47 -0500 (Mon, 16 Feb 2009) $
# $Date: 2009-02-16 16:47:47 -0500 (Mon, 16 Feb 2009) $
# $LastChangedRevision: 1539 $
# $Revision: 1539 $
# $LastChangedBy: mel $
# $Author: mel $
# $Id: wtest 1539 2009-02-16 21:47:47Z mel $
#
## ENDHED  ####################################################################

#######################################
# Do a web test
#######################################
debug 1

set SERVER "127.0.0.1"
do_request "http://www.Template-dev.com/do/display"

assert text "What you need"

if {[catch {
    link follow [set link "Click here for useful link"]
} e] != 0} {
    puts [list \t>>>>Failed to find link $link]
    exit
}

if {[catch {
    assert text [set text "About the Author"]
} e] != 0} {
    puts [list \t>>>>Failed to find text $text]
    exit
}
