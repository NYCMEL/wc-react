#!/Melify/bin/mac/tclkit

namespace eval queue {
    set x [list]
    set ticks 3

    ######################################################
    ####
    ######################################################
    proc add {val} {
	global x
	global ticks
	
	lappend x $val

	if {[llength $x] > $ticks} {
	    set x [lrange $x end-[expr $ticks -1] end]
	}
    }

    ######################################################
    ####
    ######################################################
    proc dir {} {
	global x
	global ticks

	set s1 [lsort -increasing $x]
	set s2 [lsort -decreasing $x]

	if {$s1 == $x} {
	    return "S"
	}

	if {$s2 == $x} {
	    return "B"
	}

	return ""
    }
}

######################################################
####
######################################################
queue::add 10
queue::add 55
queue::add 65
puts --[queue::dir]

queue::add 65
queue::add 55
queue::add 10
puts --[queue::dir]

queue::add 55
queue::add 65
queue::add 10
puts --[queue::dir]
